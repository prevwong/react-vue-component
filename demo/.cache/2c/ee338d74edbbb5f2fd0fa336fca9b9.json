{"id":"rWKd","dependencies":[{"name":"/Users/prevwong/Documents/GitHub/reactx/tsconfig.json","includedInParent":true,"mtime":1544172575064},{"name":"/Users/prevwong/Documents/GitHub/reactx/.babelrc","includedInParent":true,"mtime":1544090229533},{"name":"/Users/prevwong/Documents/GitHub/reactx/package.json","includedInParent":true,"mtime":1544176648255},{"name":"../utils","loc":{"line":3,"column":22},"parent":"/Users/prevwong/Documents/GitHub/reactx/src/reactivity/dep.ts","resolved":"/Users/prevwong/Documents/GitHub/reactx/src/utils/index.ts"}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=require(\"../utils\"),e=0,s=function(){function s(){this.subs=[],this.id=e++}return s.prototype.addSub=function(t){this.subs.push(t)},s.prototype.removeSub=function(e){t.remove(this.subs,e)},s.prototype.depend=function(){s.target&&s.target.addDep(this)},s.prototype.notify=function(){for(var t=0;t<this.subs.length;t++)this.subs[t].update()},s.target=null,s}();exports.default=s;var o=[];function r(t){s.target&&o.push(s.target),s.target=t}function u(){o.pop()}exports.pushTarget=r,exports.popTarget=u;","map":{"mappings":[{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":21}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":33}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":35}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":39}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":41}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":49}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":4,"column":4},"generated":{"line":1,"column":61}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":4,"column":17},"generated":{"line":1,"column":63}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":65}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":67}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":78}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":87}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":7,"column":2},"generated":{"line":1,"column":91}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":7,"column":2},"generated":{"line":1,"column":96}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":7,"column":25},"generated":{"line":1,"column":101}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":104}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":11,"column":9},"generated":{"line":1,"column":109}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":11,"column":14},"generated":{"line":1,"column":112}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":116}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":123}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":125}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":135}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":13,"column":2},"generated":{"line":1,"column":142}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":13,"column":9},"generated":{"line":1,"column":151}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":154}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":159}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":14,"column":14},"generated":{"line":1,"column":164}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":14,"column":19},"generated":{"line":1,"column":169}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":173}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":175}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":185}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":195}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":16,"column":12},"generated":{"line":1,"column":204}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":1,"column":207}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":1,"column":209}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":17,"column":11},"generated":{"line":1,"column":216}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":17,"column":16},"generated":{"line":1,"column":221}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":17,"column":22},"generated":{"line":1,"column":226}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":230}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":232}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":242}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":249}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":260}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":1,"column":262}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":21,"column":6},"generated":{"line":1,"column":270}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":21,"column":10},"generated":{"line":1,"column":272}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":21,"column":17},"generated":{"line":1,"column":279}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":21,"column":24},"generated":{"line":1,"column":286}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":293}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":295}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":305}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":312}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":323}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":1,"column":327}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":1,"column":331}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":25,"column":17},"generated":{"line":1,"column":333}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":25,"column":20},"generated":{"line":1,"column":335}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":337}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":25,"column":29},"generated":{"line":1,"column":342}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":25,"column":34},"generated":{"line":1,"column":347}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":25,"column":42},"generated":{"line":1,"column":354}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":358}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":26,"column":11},"generated":{"line":1,"column":363}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":26,"column":16},"generated":{"line":1,"column":368}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":26,"column":19},"generated":{"line":1,"column":371}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":6,"column":9},"generated":{"line":1,"column":381}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":6,"column":9},"generated":{"line":1,"column":383}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":6,"column":27},"generated":{"line":1,"column":390}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":29,"column":0},"generated":{"line":1,"column":395}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":397}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":5,"column":21},"generated":{"line":1,"column":400}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":5,"column":21},"generated":{"line":1,"column":408}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":5,"column":21},"generated":{"line":1,"column":416}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":31,"column":0},"generated":{"line":1,"column":418}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":422}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":31,"column":34},"generated":{"line":1,"column":424}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":427}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":33,"column":16},"generated":{"line":1,"column":436}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":1,"column":438}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":34,"column":6},"generated":{"line":1,"column":441}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":1,"column":443}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":451}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":34,"column":30},"generated":{"line":1,"column":453}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":1,"column":458}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":34,"column":39},"generated":{"line":1,"column":460}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":468}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":1,"column":470}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":1,"column":477}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":479}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":488}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":492}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":39,"column":14},"generated":{"line":1,"column":494}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":500}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":508}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":519}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":521}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":529}},{"source":"../src/reactivity/dep.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":539}}],"sources":{"../src/reactivity/dep.ts":"import { remove } from '../utils';\nimport Watcher from './watcher';\n\nlet id: number = 0;\nexport default class Dep {\n  static target: Watcher = null;\n  subs: Array<Watcher> = [];\n  id: number;\n\n  constructor() {\n    this.id = id++;\n  }\n  addSub(sub: Watcher): void {\n    this.subs.push(sub);\n  }\n  removeSub(sub: Watcher): void {\n    remove(this.subs, sub);\n  }\n  depend(): void {\n    if (Dep.target) {\n      Dep.target.addDep(this);\n    }\n  }\n  notify(): void {\n    for (let i = 0; i < this.subs.length; i++) {\n      this.subs[i].update();\n    }\n  }\n}\n\nlet targetStack: Array<Watcher> = [];\n\nexport function pushTarget(target: Watcher): void {\n  if (Dep.target) targetStack.push(Dep.target);\n  Dep.target = target;\n}\n\nexport function popTarget(): void {\n  targetStack.pop();\n}\n"},"lineCount":null}},"hash":"4b216f0d2616e804bdae1e45043b7544","cacheData":{"env":{}}}