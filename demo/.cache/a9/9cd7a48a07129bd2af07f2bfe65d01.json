{"id":"OzjF","dependencies":[{"name":"/Users/prevwong/Documents/GitHub/reactx/tsconfig.json","includedInParent":true,"mtime":1544172575064},{"name":"/Users/prevwong/Documents/GitHub/reactx/.babelrc","includedInParent":true,"mtime":1544090229533},{"name":"/Users/prevwong/Documents/GitHub/reactx/package.json","includedInParent":true,"mtime":1544176648255},{"name":"./dep","loc":{"line":14,"column":20},"parent":"/Users/prevwong/Documents/GitHub/reactx/src/reactivity/watcher.ts","resolved":"/Users/prevwong/Documents/GitHub/reactx/src/reactivity/dep.ts"},{"name":"../utils","loc":{"line":15,"column":22},"parent":"/Users/prevwong/Documents/GitHub/reactx/src/reactivity/watcher.ts","resolved":"/Users/prevwong/Documents/GitHub/reactx/src/utils/index.ts"}],"generated":{"js":"\"use strict\";function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(){return function(t){return typeof t}}():function(){return function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t}}())(e)}var e=function(){return(e=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};exports.__esModule=!0;var r=require(\"./dep\"),o=require(\"../utils\"),n=function(){function n(t,e,r){void 0===r&&(r=function(){return function(){}}()),this.comp=null,this.deps=[],this.depIds=new Set,this.getter=function(){},this.comp=t,this.cb=r,this.getter=\"function\"==typeof e?e:this.parsePath(e),this.value=this.get(),this.oldValue=this.stripGettersSetters()}return n.prototype.stripGettersSetters=function(){return\"object\"===t(this.value)?e({},this.value):this.value},n.prototype.parsePath=function(t){if(!/[^\\w.$]/.test(t)){var e=t.split(\".\");return function(t){for(var r=0;r<e.length;r++){if(!t)return;t=t[e[r]]}return t}}},n.prototype.get=function(){var t;r.pushTarget(this);try{t=this.getter.call(this.comp,this.comp)}catch(t){console.error(\"Error in getter\",t)}finally{i(t),r.popTarget()}return t},n.prototype.addDep=function(t){var e=t.id;this.depIds.has(e)||(this.depIds.add(e),this.deps.push(t),t.addSub(this))},n.prototype.update=function(){var t=this.get();(t!==this.value||o.isObject(t))&&(this.cb.call(this.comp,t,this.oldValue),this.oldValue=this.stripGettersSetters())},n}();exports.default=n;var i=function(){return function(e){if(e)for(var r=\"object\"===t(e)?Object.keys(e):e,o=0;o<r.length;o++)return e[r[o]]}}();","map":{"mappings":[{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":0}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":22}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":24}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":27}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":34}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":36}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":55}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":63}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":80}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":87}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":96}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":107}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":114}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":123}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":126}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":140}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":143}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":146}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":157}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":164}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":173}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":176}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":183}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":186}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":205}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":213}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":215}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":229}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":237}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":241}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":248}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":258}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":274}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":277}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":281}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":284}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":288}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":290}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":301}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":308}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":310}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":317}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":325}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":334}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":337}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":341}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":345}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":347}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":349}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":351}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":353}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":363}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":370}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":372}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":374}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":378}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":382}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":386}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":391}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":393}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":403}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":406}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":413}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":423}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":438}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":443}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":445}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":450}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":452}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":455}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":457}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":461}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":468}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":472}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":478}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":483}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":495}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":503}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":515}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":517}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":521}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":523}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":531}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":540}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":542}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":550}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":562}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":564}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":575}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":584}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":14},"generated":{"line":1,"column":586}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":37},"generated":{"line":1,"column":588}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":49},"generated":{"line":1,"column":590}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":49},"generated":{"line":1,"column":598}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":49},"generated":{"line":1,"column":602}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":49},"generated":{"line":1,"column":606}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":49},"generated":{"line":1,"column":608}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":49},"generated":{"line":1,"column":619}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":49},"generated":{"line":1,"column":626}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":14,"column":49},"generated":{"line":1,"column":639}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":7,"column":2},"generated":{"line":1,"column":643}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":7,"column":2},"generated":{"line":1,"column":648}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":7,"column":26},"generated":{"line":1,"column":653}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":658}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":9,"column":2},"generated":{"line":1,"column":663}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":9,"column":21},"generated":{"line":1,"column":668}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":671}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":10,"column":2},"generated":{"line":1,"column":676}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":10,"column":24},"generated":{"line":1,"column":683}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":10,"column":28},"generated":{"line":1,"column":687}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":691}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":11,"column":2},"generated":{"line":1,"column":696}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":11,"column":21},"generated":{"line":1,"column":703}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":716}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":15,"column":9},"generated":{"line":1,"column":721}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":15,"column":16},"generated":{"line":1,"column":726}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":728}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":16,"column":9},"generated":{"line":1,"column":733}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":16,"column":14},"generated":{"line":1,"column":736}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":738}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":17,"column":9},"generated":{"line":1,"column":743}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":17,"column":35},"generated":{"line":1,"column":750}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":17,"column":25},"generated":{"line":1,"column":769}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":17,"column":48},"generated":{"line":1,"column":771}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":17,"column":56},"generated":{"line":1,"column":773}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":17,"column":61},"generated":{"line":1,"column":778}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":17,"column":71},"generated":{"line":1,"column":788}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":791}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":18,"column":9},"generated":{"line":1,"column":796}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":18,"column":17},"generated":{"line":1,"column":802}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":18,"column":22},"generated":{"line":1,"column":807}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":813}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":19,"column":9},"generated":{"line":1,"column":818}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":19,"column":20},"generated":{"line":1,"column":827}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":19,"column":25},"generated":{"line":1,"column":832}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":854}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":861}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":863}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":873}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":893}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":11},"generated":{"line":1,"column":904}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":33},"generated":{"line":1,"column":910}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":11},"generated":{"line":1,"column":921}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":18},"generated":{"line":1,"column":923}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":23},"generated":{"line":1,"column":928}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":43},"generated":{"line":1,"column":935}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":43},"generated":{"line":1,"column":937}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":49},"generated":{"line":1,"column":940}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":54},"generated":{"line":1,"column":945}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":64},"generated":{"line":1,"column":952}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":22,"column":69},"generated":{"line":1,"column":957}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":964}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":966}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":976}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":986}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":995}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":998}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":25,"column":19},"generated":{"line":1,"column":1002}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":1,"column":1012}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":1017}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":1020}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":1021}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":1,"column":1025}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":1027}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":29,"column":26},"generated":{"line":1,"column":1029}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":29,"column":32},"generated":{"line":1,"column":1035}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":1040}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":31,"column":11},"generated":{"line":1,"column":1047}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":31,"column":21},"generated":{"line":1,"column":1056}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":1059}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":1063}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":32,"column":15},"generated":{"line":1,"column":1067}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":1069}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":32,"column":22},"generated":{"line":1,"column":1071}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":32,"column":26},"generated":{"line":1,"column":1073}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":32,"column":35},"generated":{"line":1,"column":1075}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":32,"column":43},"generated":{"line":1,"column":1082}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":32,"column":48},"generated":{"line":1,"column":1086}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":1087}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":1091}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":1,"column":1093}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":1100}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":1102}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":1104}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":34,"column":27},"generated":{"line":1,"column":1106}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":1110}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":1117}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":1122}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":1124}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":1134}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":1138}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":1149}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":1153}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":1,"column":1155}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":1,"column":1157}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":41,"column":15},"generated":{"line":1,"column":1168}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":1174}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":1178}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":43,"column":14},"generated":{"line":1,"column":1180}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":43,"column":19},"generated":{"line":1,"column":1185}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":43,"column":26},"generated":{"line":1,"column":1192}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":43,"column":31},"generated":{"line":1,"column":1197}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":43,"column":36},"generated":{"line":1,"column":1202}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":43,"column":42},"generated":{"line":1,"column":1207}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":43,"column":47},"generated":{"line":1,"column":1212}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":1,"column":1218}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":44,"column":13},"generated":{"line":1,"column":1224}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":45,"column":6},"generated":{"line":1,"column":1227}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":45,"column":14},"generated":{"line":1,"column":1235}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":1241}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":45,"column":39},"generated":{"line":1,"column":1259}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":46,"column":14},"generated":{"line":1,"column":1262}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":1,"column":1270}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":47,"column":15},"generated":{"line":1,"column":1272}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":1275}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":1277}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":51,"column":11},"generated":{"line":1,"column":1289}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":51,"column":11},"generated":{"line":1,"column":1296}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":1299}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":1301}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":1311}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":1318}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":1327}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":1330}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":1334}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":1336}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":1338}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":55,"column":9},"generated":{"line":1,"column":1341}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":55,"column":14},"generated":{"line":1,"column":1346}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":55,"column":21},"generated":{"line":1,"column":1353}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":55,"column":25},"generated":{"line":1,"column":1357}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":1362}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":1367}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":56,"column":18},"generated":{"line":1,"column":1374}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":56,"column":22},"generated":{"line":1,"column":1378}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":57,"column":11},"generated":{"line":1,"column":1381}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":57,"column":11},"generated":{"line":1,"column":1386}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":1391}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":57,"column":21},"generated":{"line":1,"column":1396}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":58,"column":6},"generated":{"line":1,"column":1399}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":58,"column":10},"generated":{"line":1,"column":1401}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":58,"column":17},"generated":{"line":1,"column":1408}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":1416}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":1418}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":1428}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":1435}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":1446}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":1450}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":62,"column":18},"generated":{"line":1,"column":1452}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":62,"column":23},"generated":{"line":1,"column":1457}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":1464}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":63,"column":18},"generated":{"line":1,"column":1468}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":63,"column":23},"generated":{"line":1,"column":1473}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":1480}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":1482}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":63,"column":41},"generated":{"line":1,"column":1491}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":1497}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":1502}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":1,"column":1505}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":64,"column":19},"generated":{"line":1,"column":1510}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":64,"column":24},"generated":{"line":1,"column":1515}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":64,"column":30},"generated":{"line":1,"column":1520}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":64,"column":37},"generated":{"line":1,"column":1522}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":64,"column":42},"generated":{"line":1,"column":1527}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":1537}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":65,"column":11},"generated":{"line":1,"column":1542}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":65,"column":22},"generated":{"line":1,"column":1551}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":65,"column":27},"generated":{"line":1,"column":1556}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":68,"column":0},"generated":{"line":1,"column":1580}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":1582}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":1585}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":1593}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":1601}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":0},"generated":{"line":1,"column":1603}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":6},"generated":{"line":1,"column":1607}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":14},"generated":{"line":1,"column":1609}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":6},"generated":{"line":1,"column":1620}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":6},"generated":{"line":1,"column":1627}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":18},"generated":{"line":1,"column":1636}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":71,"column":6},"generated":{"line":1,"column":1639}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":71,"column":7},"generated":{"line":1,"column":1642}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":73,"column":7},"generated":{"line":1,"column":1644}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":1648}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":1652}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":72,"column":42},"generated":{"line":1,"column":1654}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":72,"column":27},"generated":{"line":1,"column":1665}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":72,"column":34},"generated":{"line":1,"column":1667}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":72,"column":53},"generated":{"line":1,"column":1670}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":72,"column":60},"generated":{"line":1,"column":1677}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":72,"column":65},"generated":{"line":1,"column":1682}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":72,"column":72},"generated":{"line":1,"column":1685}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":73,"column":11},"generated":{"line":1,"column":1687}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":73,"column":15},"generated":{"line":1,"column":1689}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":73,"column":18},"generated":{"line":1,"column":1691}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":1,"column":1693}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":73,"column":27},"generated":{"line":1,"column":1695}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":73,"column":35},"generated":{"line":1,"column":1702}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":1706}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":1713}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":1715}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":74,"column":20},"generated":{"line":1,"column":1717}},{"source":"../src/reactivity/watcher.ts","name":null,"original":{"line":70,"column":14},"generated":{"line":1,"column":1722}}],"sources":{"../src/reactivity/watcher.ts":"import Dep, { pushTarget, popTarget } from './dep';\nimport { Component } from 'react';\nimport { isObject } from '../utils';\nimport VueIshComponent from '../types/VueIshComponent';\n\nexport default class Watcher {\n  comp: VueIshComponent = null;\n  cb: Function;\n  deps: Array<Dep> = [];\n  depIds: Set<number> = new Set();\n  getter: Function = () => { };\n  value: any;\n  oldValue: any;\n  constructor(comp: VueIshComponent, value: any, cb: Function = () => { }) {\n    this.comp = comp;\n    this.cb = cb;\n    this.getter = typeof value === 'function' ? value : this.parsePath(value);\n    this.value = this.get();\n    this.oldValue = this.stripGettersSetters();\n  }\n  stripGettersSetters(): any {\n    return typeof this.value === 'object' ? { ...this.value } : this.value;\n  }\n  parsePath(path): null | object {\n    const bailRE = /[^\\w.$]/;\n    if (bailRE.test(path)) {\n      return;\n    }\n    const segments = path.split('.');\n\n    return function (obj) {\n      for (let i = 0; i < segments.length; i++) {\n        if (!obj) return;\n        obj = obj[segments[i]];\n      }\n      return obj;\n    };\n  }\n  get(): any {\n    let value: any;\n    pushTarget(this);\n    try {\n      value = this.getter.call(this.comp, this.comp);\n    } catch (e) {\n      console.error('Error in getter', e);\n    } finally {\n      traverse(value);\n      popTarget();\n    }\n\n    return value;\n  }\n  addDep(dep: Dep): void {\n    const { id } = dep;\n    if (!this.depIds.has(id)) {\n      this.depIds.add(id);\n      this.deps.push(dep);\n      dep.addSub(this);\n    }\n  }\n  update(): void {\n    const value = this.get();\n    if (value !== this.value || isObject(value)) {\n      this.cb.call(this.comp, value, this.oldValue);\n      this.oldValue = this.stripGettersSetters();\n    }\n  }\n}\n\nconst traverse = (obj: object | Array<any>): void => {\n  if (!obj) return;\n  const keys: Array<any> = typeof obj === 'object' ? Object.keys(obj) : obj;\n  for (let i = 0; i < keys.length; i++) {\n    return obj[keys[i]];\n  }\n};\n"},"lineCount":null}},"hash":"90673df53a91c7a46d42a1e56b5b4269","cacheData":{"env":{}}}